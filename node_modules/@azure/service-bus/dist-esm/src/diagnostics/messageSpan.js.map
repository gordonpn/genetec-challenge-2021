{"version":3,"file":"messageSpan.js","sourceRoot":"","sources":["../../../src/diagnostics/messageSpan.ts"],"names":[],"mappings":"AAAA,uCAAuC;AACvC,kCAAkC;AAGlC,OAAO,EAAE,SAAS,EAAE,MAAM,qBAAqB,CAAC;AAChD,OAAO,EAAqB,QAAQ,EAAE,MAAM,oBAAoB,CAAC;AAEjE;;;GAGG;AACH,MAAM,UAAU,iBAAiB,CAC/B,UAAsC,EACtC,MAAsD;IAEtD,MAAM,MAAM,GAAG,SAAS,EAAE,CAAC;IAC3B,MAAM,IAAI,GAAG,MAAM,CAAC,SAAS,CAAC,0BAA0B,EAAE;QACxD,IAAI,EAAE,QAAQ,CAAC,QAAQ;QACvB,MAAM,EAAE,UAAU;KACnB,CAAC,CAAC;IACH,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,sBAAsB,CAAC,CAAC;IAC1D,IAAI,MAAM,EAAE;QACV,IAAI,CAAC,YAAY,CAAC,yBAAyB,EAAE,MAAM,CAAC,UAAU,CAAC,CAAC;QAChE,IAAI,CAAC,YAAY,CAAC,cAAc,EAAE,MAAM,CAAC,IAAI,CAAC,CAAC;KAChD;IACD,OAAO,IAAI,CAAC;AACd,CAAC","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { ConnectionConfig } from \"@azure/core-amqp\";\nimport { getTracer } from \"@azure/core-tracing\";\nimport { Span, SpanContext, SpanKind } from \"@opentelemetry/api\";\n\n/**\n * @internal\n * @hidden\n */\nexport function createMessageSpan(\n  parentSpan?: Span | SpanContext | null,\n  config?: Pick<ConnectionConfig, \"entityPath\" | \"host\">\n): Span {\n  const tracer = getTracer();\n  const span = tracer.startSpan(\"Azure.ServiceBus.message\", {\n    kind: SpanKind.PRODUCER,\n    parent: parentSpan\n  });\n  span.setAttribute(\"az.namespace\", \"Microsoft.ServiceBus\");\n  if (config) {\n    span.setAttribute(\"message_bus.destination\", config.entityPath);\n    span.setAttribute(\"peer.address\", config.host);\n  }\n  return span;\n}\n"]}